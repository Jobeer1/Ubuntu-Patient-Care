<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live SA RIS System - Ubuntu Patient Sorg</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #333;
        }

        .system-container {
            display: grid;
            grid-template-columns: 300px 1fr 300px;
            min-height: 100vh;
            gap: 10px;
            padding: 10px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .panel-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .panel-header h2 {
            margin-bottom: 5px;
            font-size: 1.2em;
        }

        .panel-header .status-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #27ae60;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .panel-body {
            padding: 20px;
            height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .main-panel {
            display: flex;
            flex-direction: column;
        }

        .main-header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 15px 15px 0 0;
        }

        .main-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .main-header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .workflow-area {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .workflow-step {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border-left: 5px solid #3498db;
            transition: all 0.3s;
            cursor: pointer;
        }

        .workflow-step:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .workflow-step.active {
            background: #e3f2fd;
            border-left-color: #2196f3;
        }

        .workflow-step.completed {
            background: #e8f5e8;
            border-left-color: #4caf50;
        }

        .step-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .step-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .step-title {
            flex: 1;
            font-weight: bold;
            font-size: 1.1em;
        }

        .step-status {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-pending { background: #fff3cd; color: #856404; }
        .status-processing { background: #cce5ff; color: #004085; }
        .status-completed { background: #d4edda; color: #155724; }

        .step-details {
            margin-left: 45px;
            color: #666;
            font-size: 0.9em;
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: background 0.3s;
        }

        .activity-item:hover {
            background: #f8f9fa;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
        }

        .activity-icon.success { background: #27ae60; }
        .activity-icon.warning { background: #f39c12; }
        .activity-icon.info { background: #3498db; }
        .activity-icon.error { background: #e74c3c; }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .activity-time {
            font-size: 0.8em;
            color: #666;
        }

        .system-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .metric-label {
            font-weight: bold;
            color: #2c3e50;
        }

        .metric-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #27ae60;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 4px;
            transition: width 0.5s;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            justify-content: center;
            margin-bottom: 10px;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-success { background: #27ae60; }
        .btn-success:hover { background: #229954; }
        .btn-warning { background: #f39c12; }
        .btn-warning:hover { background: #e67e22; }
        .btn-danger { background: #e74c3c; }
        .btn-danger:hover { background: #c0392b; }

        .live-data {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-bottom: 15px;
            max-height: 200px;
            overflow-y: auto;
        }

        .data-stream {
            margin-bottom: 5px;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .connection-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .connection-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .connection-item.connected {
            border-color: #27ae60;
            background: #e8f5e8;
        }

        .connection-item.disconnected {
            border-color: #e74c3c;
            background: #fdf2f2;
        }

        .floating-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-left: 5px solid #27ae60;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s;
        }

        .floating-notification.show {
            transform: translateX(0);
        }

        @media (max-width: 1200px) {
            .system-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }
        }
    </style>
</head>
<body>
    <div class="system-container">
        <!-- Left Panel - OpenEMR Integration -->
        <div class="panel">
            <div class="panel-header">
                <div class="status-indicator"></div>
                <h2><i class="fas fa-hospital"></i> OpenEMR</h2>
                <p>Electronic Medical Records</p>
            </div>
            <div class="panel-body">
                <div class="system-metric">
                    <span class="metric-label">Active Patients</span>
                    <span class="metric-value" id="active-patients">1,247</span>
                </div>
                
                <div class="system-metric">
                    <span class="metric-label">Today's Appointments</span>
                    <span class="metric-value" id="todays-appointments">23</span>
                </div>
                
                <div class="system-metric">
                    <span class="metric-label">Pending Orders</span>
                    <span class="metric-value" id="pending-orders">8</span>
                </div>

                <h4 style="margin: 20px 0 10px 0;">System Connections</h4>
                <div class="connection-grid">
                    <div class="connection-item connected" id="openemr-db">
                        <i class="fas fa-database"></i>
                        <p>Database</p>
                    </div>
                    <div class="connection-item connected" id="openemr-api">
                        <i class="fas fa-plug"></i>
                        <p>API</p>
                    </div>
                </div>

                <button class="btn btn-success" onclick="createNewAppointment()">
                    <i class="fas fa-plus"></i> New Appointment
                </button>
                
                <button class="btn" onclick="syncWithSARIS()">
                    <i class="fas fa-sync"></i> Sync with SA RIS
                </button>

                <h4 style="margin: 20px 0 10px 0;">Live Activity</h4>
                <div id="openemr-activity">
                    <!-- Activity items will be populated here -->
                </div>
            </div>
        </div>

        <!-- Main Panel - Workflow Engine -->
        <div class="panel main-panel">
            <div class="main-header">
                <h1><i class="fas fa-cogs"></i> SA RIS Workflow Engine</h1>
                <p>Real-time Patient Workflow Management</p>
                <div style="margin-top: 15px;">
                    <span style="background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 15px; margin-right: 10px;">
                        <i class="fas fa-heartbeat"></i> System Online
                    </span>
                    <span style="background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 15px;">
                        <i class="fas fa-clock"></i> <span id="system-uptime">99.9% Uptime</span>
                    </span>
                </div>
            </div>
            
            <div class="workflow-area">
                <div class="workflow-step completed" onclick="executeStep(1)">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div class="step-title">Patient Registration & Medical Aid Verification</div>
                        <div class="step-status status-completed">Completed</div>
                    </div>
                    <div class="step-details">
                        Patient: John Doe | Medical Aid: Discovery Health (DHMS123456789) | Status: Verified ✓
                    </div>
                </div>

                <div class="workflow-step active" onclick="executeStep(2)">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div class="step-title">Radiology Order Processing</div>
                        <div class="step-status status-processing">Processing</div>
                    </div>
                    <div class="step-details">
                        Procedure: CT Chest with Contrast | ICD-10: R06.02, R50.9 | NRPL: 3014 | Amount: R2,850
                    </div>
                </div>

                <div class="workflow-step" onclick="executeStep(3)">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <div class="step-title">Pre-Authorization Request</div>
                        <div class="step-status status-pending">Pending</div>
                    </div>
                    <div class="step-details">
                        Discovery Health pre-auth required for CT procedures | Estimated approval time: 2-4 hours
                    </div>
                </div>

                <div class="workflow-step" onclick="executeStep(4)">
                    <div class="step-header">
                        <div class="step-number">4</div>
                        <div class="step-title">Appointment Scheduling</div>
                        <div class="step-status status-pending">Pending</div>
                    </div>
                    <div class="step-details">
                        Schedule CT scan appointment | Available slots: Today 2:00 PM, Tomorrow 9:00 AM
                    </div>
                </div>

                <div class="workflow-step" onclick="executeStep(5)">
                    <div class="step-header">
                        <div class="step-number">5</div>
                        <div class="step-title">Study Acquisition & PACS Integration</div>
                        <div class="step-status status-pending">Pending</div>
                    </div>
                    <div class="step-details">
                        DICOM images will be sent to PACS | Integration with teammate's Orthanc system
                    </div>
                </div>

                <div class="workflow-step" onclick="executeStep(6)">
                    <div class="step-header">
                        <div class="step-number">6</div>
                        <div class="step-title">Reporting & Results</div>
                        <div class="step-status status-pending">Pending</div>
                    </div>
                    <div class="step-details">
                        Radiologist reporting via teammate's reporting module | Expected TAT: 24 hours
                    </div>
                </div>

                <div class="workflow-step" onclick="executeStep(7)">
                    <div class="step-header">
                        <div class="step-number">7</div>
                        <div class="step-title">Billing & Claims Submission</div>
                        <div class="step-status status-pending">Pending</div>
                    </div>
                    <div class="step-details">
                        Submit claim to Healthbridge clearing house | Auto-reconciliation enabled
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-success" onclick="executeFullWorkflow()" style="width: auto; padding: 15px 30px;">
                        <i class="fas fa-play"></i> Execute Complete Workflow
                    </button>
                </div>
            </div>
        </div>

        <!-- Right Panel - Healthbridge & Monitoring -->
        <div class="panel">
            <div class="panel-header">
                <div class="status-indicator"></div>
                <h2><i class="fas fa-cloud"></i> Healthbridge</h2>
                <p>Clearing House Integration</p>
            </div>
            <div class="panel-body">
                <div class="system-metric">
                    <span class="metric-label">Claims Today</span>
                    <span class="metric-value" id="claims-today">47</span>
                </div>
                
                <div class="system-metric">
                    <span class="metric-label">Success Rate</span>
                    <span class="metric-value" id="success-rate">98.2%</span>
                </div>
                
                <div class="system-metric">
                    <span class="metric-label">Revenue Today</span>
                    <span class="metric-value" id="revenue-today">R 127,450</span>
                </div>

                <h4 style="margin: 20px 0 10px 0;">Medical Aid Status</h4>
                <div class="connection-grid">
                    <div class="connection-item connected">
                        <i class="fas fa-shield-alt"></i>
                        <p>Discovery</p>
                    </div>
                    <div class="connection-item connected">
                        <i class="fas fa-shield-alt"></i>
                        <p>Momentum</p>
                    </div>
                    <div class="connection-item connected">
                        <i class="fas fa-shield-alt"></i>
                        <p>Bonitas</p>
                    </div>
                    <div class="connection-item disconnected">
                        <i class="fas fa-shield-alt"></i>
                        <p>GEMS</p>
                    </div>
                </div>

                <button class="btn btn-warning" onclick="submitBatchClaims()">
                    <i class="fas fa-upload"></i> Submit Batch Claims
                </button>
                
                <button class="btn" onclick="checkClaimStatus()">
                    <i class="fas fa-search"></i> Check Claim Status
                </button>

                <h4 style="margin: 20px 0 10px 0;">Live Data Stream</h4>
                <div class="live-data" id="live-data-stream">
                    <div class="data-stream">[14:23:45] Healthbridge API: Connected</div>
                    <div class="data-stream">[14:23:46] Discovery Health: Auth successful</div>
                    <div class="data-stream">[14:23:47] Claim CLM001: Submitted</div>
                </div>

                <h4 style="margin: 20px 0 10px 0;">System Performance</h4>
                <div style="margin-bottom: 10px;">
                    <span style="font-size: 0.9em;">API Response Time</span>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                    <span style="font-size: 0.8em; color: #666;">850ms avg</span>
                </div>

                <div style="margin-bottom: 10px;">
                    <span style="font-size: 0.9em;">Success Rate</span>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 98%"></div>
                    </div>
                    <span style="font-size: 0.8em; color: #666;">98.2%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Notification -->
    <div id="floating-notification" class="floating-notification">
        <div style="display: flex; align-items: center; gap: 10px;">
            <i class="fas fa-check-circle" style="color: #27ae60; font-size: 1.5em;"></i>
            <div>
                <div style="font-weight: bold;">Workflow Step Completed</div>
                <div style="font-size: 0.9em; color: #666;" id="notification-text">Step executed successfully</div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 2;
        let activityCounter = 0;
        let dataStreamCounter = 0;

        // Initialize the system
        document.addEventListener('DOMContentLoaded', function() {
            startLiveUpdates();
            populateInitialActivity();
            startDataStream();
        });

        function startLiveUpdates() {
            // Update metrics every 5 seconds
            setInterval(updateMetrics, 5000);
            
            // Update time every second
            setInterval(updateSystemTime, 1000);
        }

        function updateMetrics() {
            // Simulate live metric updates
            const activePatients = document.getElementById('active-patients');
            const todaysAppointments = document.getElementById('todays-appointments');
            const claimsToday = document.getElementById('claims-today');
            const revenueToday = document.getElementById('revenue-today');
            
            // Random small increments
            if (Math.random() > 0.7) {
                activePatients.textContent = parseInt(activePatients.textContent.replace(',', '')) + Math.floor(Math.random() * 3);
            }
            
            if (Math.random() > 0.8) {
                todaysAppointments.textContent = parseInt(todaysAppointments.textContent) + 1;
            }
            
            if (Math.random() > 0.6) {
                const currentClaims = parseInt(claimsToday.textContent);
                claimsToday.textContent = currentClaims + 1;
                
                const currentRevenue = parseInt(revenueToday.textContent.replace(/[R ,]/g, ''));
                const newRevenue = currentRevenue + Math.floor(Math.random() * 5000) + 1000;
                revenueToday.textContent = 'R ' + newRevenue.toLocaleString();
            }
        }

        function updateSystemTime() {
            const now = new Date();
            const uptime = document.getElementById('system-uptime');
            // Simulate high uptime
            uptime.textContent = '99.9% Uptime';
        }

        function populateInitialActivity() {
            const activities = [
                { type: 'success', title: 'Patient registered successfully', time: '2 minutes ago', icon: 'fas fa-user-plus' },
                { type: 'info', title: 'Medical aid verified - Discovery Health', time: '3 minutes ago', icon: 'fas fa-shield-alt' },
                { type: 'warning', title: 'Pre-auth required for CT procedure', time: '5 minutes ago', icon: 'fas fa-exclamation-triangle' },
                { type: 'success', title: 'Claim CLM045 submitted to Healthbridge', time: '8 minutes ago', icon: 'fas fa-paper-plane' }
            ];
            
            const activityContainer = document.getElementById('openemr-activity');
            activities.forEach(activity => {
                addActivityItem(activity);
            });
        }

        function addActivityItem(activity) {
            const activityContainer = document.getElementById('openemr-activity');
            const item = document.createElement('div');
            item.className = 'activity-item';
            item.innerHTML = `
                <div class="activity-icon ${activity.type}">
                    <i class="${activity.icon}"></i>
                </div>
                <div class="activity-content">
                    <div class="activity-title">${activity.title}</div>
                    <div class="activity-time">${activity.time}</div>
                </div>
            `;
            
            activityContainer.insertBefore(item, activityContainer.firstChild);
            
            // Keep only last 5 activities
            while (activityContainer.children.length > 5) {
                activityContainer.removeChild(activityContainer.lastChild);
            }
        }

        function startDataStream() {
            setInterval(() => {
                const dataStream = document.getElementById('live-data-stream');
                const now = new Date();
                const timestamp = now.toTimeString().split(' ')[0];
                
                const messages = [
                    'Healthbridge API: Heartbeat OK',
                    'Discovery Health: Member verification',
                    'Momentum Health: Claim processed',
                    'Bonitas: Payment received',
                    'OpenEMR: Patient data synced',
                    'SA RIS: Workflow updated',
                    'PACS: DICOM image received',
                    'Billing: Invoice generated'
                ];
                
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                
                const streamItem = document.createElement('div');
                streamItem.className = 'data-stream';
                streamItem.textContent = `[${timestamp}] ${randomMessage}`;
                
                dataStream.insertBefore(streamItem, dataStream.firstChild);
                
                // Keep only last 10 items
                while (dataStream.children.length > 10) {
                    dataStream.removeChild(dataStream.lastChild);
                }
            }, 3000);
        }

        function executeStep(stepNumber) {
            const steps = document.querySelectorAll('.workflow-step');
            const step = steps[stepNumber - 1];
            
            if (stepNumber <= currentStep) {
                // Mark as active and processing
                steps.forEach(s => s.classList.remove('active'));
                step.classList.add('active');
                
                const statusElement = step.querySelector('.step-status');
                statusElement.textContent = 'Processing';
                statusElement.className = 'step-status status-processing';
                
                // Simulate processing time
                setTimeout(() => {
                    step.classList.remove('active');
                    step.classList.add('completed');
                    statusElement.textContent = 'Completed';
                    statusElement.className = 'step-status status-completed';
                    
                    // Move to next step
                    if (stepNumber < steps.length) {
                        currentStep = stepNumber + 1;
                        steps[stepNumber].classList.add('active');
                    }
                    
                    showNotification(`Step ${stepNumber} completed successfully!`);
                    
                    // Add activity
                    addActivityItem({
                        type: 'success',
                        title: `Workflow step ${stepNumber} completed`,
                        time: 'Just now',
                        icon: 'fas fa-check'
                    });
                    
                }, 2000 + Math.random() * 3000);
            }
        }

        function executeFullWorkflow() {
            showNotification('Executing complete SA RIS workflow...');
            
            // Execute all remaining steps in sequence
            let delay = 0;
            for (let i = currentStep; i <= 7; i++) {
                setTimeout(() => {
                    executeStep(i);
                }, delay);
                delay += 3000;
            }
        }

        function createNewAppointment() {
            showNotification('Creating new radiology appointment...');
            
            addActivityItem({
                type: 'info',
                title: 'New appointment created - Jane Smith',
                time: 'Just now',
                icon: 'fas fa-calendar-plus'
            });
            
            setTimeout(() => {
                showNotification('Appointment created and synced with SA RIS!');
            }, 2000);
        }

        function syncWithSARIS() {
            showNotification('Synchronizing with SA RIS backend...');
            
            addActivityItem({
                type: 'info',
                title: 'Syncing patient data with SA RIS',
                time: 'Just now',
                icon: 'fas fa-sync'
            });
            
            setTimeout(() => {
                showNotification('Synchronization completed successfully!');
                addActivityItem({
                    type: 'success',
                    title: 'SA RIS sync completed - 15 records updated',
                    time: 'Just now',
                    icon: 'fas fa-check'
                });
            }, 3000);
        }

        function submitBatchClaims() {
            showNotification('Submitting batch claims to Healthbridge...');
            
            setTimeout(() => {
                showNotification('Batch claims submitted successfully! 12 claims processed.');
                
                // Update metrics
                const claimsToday = document.getElementById('claims-today');
                claimsToday.textContent = parseInt(claimsToday.textContent) + 12;
                
                const revenueToday = document.getElementById('revenue-today');
                const currentRevenue = parseInt(revenueToday.textContent.replace(/[R ,]/g, ''));
                revenueToday.textContent = 'R ' + (currentRevenue + 45000).toLocaleString();
            }, 4000);
        }

        function checkClaimStatus() {
            showNotification('Checking claim status with Healthbridge...');
            
            setTimeout(() => {
                showNotification('Status check completed: 8 paid, 3 processing, 1 pending');
            }, 2000);
        }

        function showNotification(message) {
            const notification = document.getElementById('floating-notification');
            const textElement = document.getElementById('notification-text');
            
            textElement.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // Simulate random system events
        setInterval(() => {
            if (Math.random() > 0.7) {
                const events = [
                    { type: 'success', title: 'Payment received from Discovery Health', icon: 'fas fa-money-bill-wave' },
                    { type: 'info', title: 'New patient registered via web portal', icon: 'fas fa-user-plus' },
                    { type: 'success', title: 'DICOM images uploaded to PACS', icon: 'fas fa-images' },
                    { type: 'info', title: 'Report generated and sent to referring doctor', icon: 'fas fa-file-medical' }
                ];
                
                const randomEvent = events[Math.floor(Math.random() * events.length)];
                randomEvent.time = 'Just now';
                addActivityItem(randomEvent);
            }
        }, 8000);

        // Simulate connection status changes
        setInterval(() => {
            if (Math.random() > 0.95) {
                const connections = document.querySelectorAll('.connection-item');
                const randomConnection = connections[Math.floor(Math.random() * connections.length)];
                
                if (randomConnection.classList.contains('connected')) {
                    randomConnection.classList.remove('connected');
                    randomConnection.classList.add('disconnected');
                    setTimeout(() => {
                        randomConnection.classList.remove('disconnected');
                        randomConnection.classList.add('connected');
                    }, 5000);
                }
            }
        }, 10000);
    </script>
</body>
</html>