# ===============================================
# Environment Configuration for SA RIS System
# Copy to .env and configure with your specific values
# ===============================================

# ===============================================
# Database Configuration
# ===============================================

# PostgreSQL Database Settings (Primary - Reporting Module)
REPORTING_DB_DRIVER=pgsql
REPORTING_DB_HOST=postgres_reporting
REPORTING_DB_PORT=5432
REPORTING_DB_NAME=sa_ris_reporting
REPORTING_DB_USERNAME=sa_ris_user
REPORTING_DB_PASSWORD=YourSecurePassword456!
REPORTING_DB_CHARSET=utf8

# MySQL Database Settings (Legacy - Existing SA RIS)
LEGACY_DB_DRIVER=mysql
LEGACY_DB_HOST=mysql_ris
LEGACY_DB_PORT=3306
LEGACY_DB_NAME=sa_ris_db
LEGACY_DB_USERNAME=sa_ris_user
LEGACY_DB_PASSWORD=YourSecurePassword456!
LEGACY_DB_CHARSET=utf8mb4

# OpenEMR Database Settings
OPENEMR_DB_DRIVER=mysql
OPENEMR_DB_HOST=openemr_mysql
OPENEMR_DB_PORT=3306
OPENEMR_DB_NAME=openemr
OPENEMR_DB_USERNAME=openemr
OPENEMR_DB_PASSWORD=YourOpenEMRPassword!
OPENEMR_DB_CHARSET=utf8mb4

# Redis Cache Settings
REDIS_HOST=redis_cache
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===============================================
# Application Configuration
# ===============================================

# Application Environment
SA_RIS_ENV=production
APP_DEBUG=false
APP_URL=https://your-domain.co.za
APP_TIMEZONE=Africa/Johannesburg

# JWT Configuration
JWT_SECRET=YourJWTSecretKey789!
JWT_EXPIRY=3600

# Session Configuration
SESSION_LIFETIME=480
SESSION_SECURE=true

# ===============================================
# DICOM Configuration
# ===============================================

# Orthanc DICOM Server
ORTHANC_URL=http://orthanc:8042
ORTHANC_USERNAME=orthanc
ORTHANC_PASSWORD=orthanc
ORTHANC_AET=SA_RIS_ORTHANC
ORTHANC_DICOM_PORT=4242

# DICOM Storage Settings
DICOM_STORAGE_PATH=/var/orthanc/storage
DICOM_TEMP_PATH=/tmp/dicom
DICOM_MAX_FILE_SIZE=500MB

# ===============================================
# South African Medical Aid Integration
# ===============================================

# Discovery Health Medical Scheme
DISCOVERY_API_URL=https://api.discovery.co.za/health
DISCOVERY_CLIENT_ID=your_discovery_client_id
DISCOVERY_CLIENT_SECRET=your_discovery_client_secret
DISCOVERY_CERT_PATH=/ssl/discovery.pem

# Momentum Health
MOMENTUM_API_URL=https://api.momentum.co.za/health
MOMENTUM_CLIENT_ID=your_momentum_client_id
MOMENTUM_CLIENT_SECRET=your_momentum_client_secret

# Bonitas Medical Fund
BONITAS_API_URL=https://api.bonitas.co.za/claims
BONITAS_USERNAME=your_bonitas_username
BONITAS_PASSWORD=your_bonitas_password

# GEMS (Government Employees Medical Scheme)
GEMS_SUBMIT_URL=https://gems.gov.za/claims/submit
GEMS_USERNAME=your_gems_username
GEMS_PASSWORD=your_gems_password

# ===============================================
# NRPL and Billing Configuration
# ===============================================

# National Reference Price List
NRPL_UPDATE_URL=https://www.medicalschemes.co.za/nrpl/latest
NRPL_AUTO_UPDATE=true
NRPL_UPDATE_FREQUENCY=daily

# Billing Settings
DEFAULT_VAT_RATE=15
CURRENCY=ZAR
PAYMENT_TERMS_DAYS=30

# Banking Details for EFT
BANK_NAME=Standard Bank
BANK_ACCOUNT_NUMBER=123456789
BANK_BRANCH_CODE=051001
PRACTICE_TAX_NUMBER=9123456789

# ===============================================
# SA Medical Reporting Module Configuration
# ===============================================

# Speech-to-Text Configuration
STT_SERVICE_URL=http://stt-service:8080
STT_MODEL_PATH=/app/models/vosk-model-en-za-0.22
STT_LANGUAGE=en-ZA
STT_SAMPLE_RATE=16000
STT_ENABLE_MEDICAL_DICTIONARY=true

# Audio Storage Configuration
AUDIO_STORAGE_PATH=/var/audio_storage
AUDIO_ENCRYPTION_ENABLED=true
AUDIO_RETENTION_DAYS=365
AUDIO_MAX_FILE_SIZE=100MB
AUDIO_ALLOWED_FORMATS=wav,mp3,ogg

# Transcriptionist Workflow
TRANSCRIPTIONIST_QUEUE_SIZE=50
TRANSCRIPTIONIST_AUTO_ASSIGN=true
TRANSCRIPTIONIST_WORKLOAD_BALANCE=true
TRANSCRIPTIONIST_QUALITY_THRESHOLD=8.0

# Doctor Authorization
DOCTOR_MFA_REQUIRED=true
DOCTOR_SIGNATURE_ALGORITHM=RSA-SHA256
DOCTOR_SESSION_TIMEOUT=30
DOCTOR_BATCH_AUTHORIZE_LIMIT=10

# Report Templates
REPORT_TEMPLATES_ENABLED=true
REPORT_TEMPLATES_PATH=/var/templates
REPORT_AUTO_POPULATE=true

# Workflow Configuration
WORKFLOW_TIMEOUT_MINUTES=480
WORKFLOW_ESCALATION_ENABLED=true
WORKFLOW_NOTIFICATIONS_ENABLED=true
WORKFLOW_PERFORMANCE_TRACKING=true

# Integration Settings
INTEGRATION_OPENEMR_ENABLED=true
INTEGRATION_ORTHANC_ENABLED=true
INTEGRATION_BILLING_ENABLED=true
INTEGRATION_SYNC_INTERVAL=300

# ===============================================
# AI and Machine Learning
# ===============================================

# AI Model Configuration
AI_MODELS_PATH=/app/models
AI_ENABLE_GPU=true
AI_MAX_CONCURRENT_JOBS=4

# Specific AI Models
CHEST_XRAY_MODEL_PATH=/app/models/chest_xray_v2.h5
CT_HEAD_MODEL_PATH=/app/models/ct_head_detection.onnx
MRI_BRAIN_MODEL_PATH=/app/models/mri_brain_analysis.pt

# AI Confidence Thresholds
AI_MIN_CONFIDENCE_THRESHOLD=0.75
AI_CRITICAL_FINDINGS_THRESHOLD=0.90

# ===============================================
# Email Configuration
# ===============================================

# SMTP Settings
MAIL_MAILER=smtp
MAIL_HOST=smtp.your-domain.co.za
MAIL_PORT=587
MAIL_USERNAME=noreply@your-domain.co.za
MAIL_PASSWORD=YourEmailPassword!
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@your-domain.co.za
MAIL_FROM_NAME="SA RIS System"

# ===============================================
# SMS Configuration (for critical alerts)
# ===============================================

# SMS Provider (e.g., Clickatell, BulkSMS)
SMS_PROVIDER=clickatell
SMS_API_KEY=your_sms_api_key
SMS_FROM_NUMBER=+27123456789

# ===============================================
# File Storage Configuration
# ===============================================

# File Storage Settings
STORAGE_DRIVER=local
STORAGE_PATH=/var/www/html/storage
MAX_UPLOAD_SIZE=50MB

# AWS S3 (if using cloud storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=af-south-1
AWS_BUCKET=sa-ris-storage

# ===============================================
# Security Configuration
# ===============================================

# SSL/TLS Settings
SSL_ENABLED=true
SSL_CERT_PATH=/etc/nginx/ssl/certificate.crt
SSL_KEY_PATH=/etc/nginx/ssl/private.key

# API Rate Limiting
API_RATE_LIMIT=100
API_RATE_LIMIT_WINDOW=60

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# ===============================================
# Monitoring Configuration
# ===============================================

# Grafana
GRAFANA_ADMIN_PASSWORD=YourGrafanaPassword!

# Elasticsearch
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200

# Prometheus
PROMETHEUS_HOST=prometheus
PROMETHEUS_PORT=9090

# ===============================================
# Backup Configuration
# ===============================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_FREQUENCY=daily
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups

# DICOM Backup
DICOM_BACKUP_ENABLED=true
DICOM_BACKUP_FREQUENCY=hourly
DICOM_BACKUP_RETENTION_DAYS=90

# Remote Backup (optional)
REMOTE_BACKUP_ENABLED=false
REMOTE_BACKUP_HOST=backup.your-domain.co.za
REMOTE_BACKUP_USER=backup_user
REMOTE_BACKUP_KEY_PATH=/keys/backup_key

# ===============================================
# POPI Act Compliance
# ===============================================

# Data Protection Settings
POPI_COMPLIANCE_ENABLED=true
AUDIT_LOG_ENABLED=true
DATA_RETENTION_YEARS=7
ANONYMIZATION_ENABLED=true

# Consent Management
CONSENT_EXPIRY_MONTHS=24
CONSENT_REMINDER_DAYS=30

# ===============================================
# Performance Configuration
# ===============================================

# PHP Configuration
PHP_MEMORY_LIMIT=512M
PHP_MAX_EXECUTION_TIME=300
PHP_MAX_INPUT_VARS=3000

# MySQL Performance
MYSQL_INNODB_BUFFER_POOL_SIZE=2G
MYSQL_MAX_CONNECTIONS=500
MYSQL_QUERY_CACHE_SIZE=256M

# Redis Performance
REDIS_MAXMEMORY=1gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# ===============================================
# Development Settings (disable in production)
# ===============================================

# Debug Settings
DEBUG_MODE=false
LOG_LEVEL=INFO
LOG_SQL_QUERIES=false

# Development URLs
DEV_FRONTEND_URL=http://localhost:3000
DEV_BACKEND_URL=http://localhost:8000

# Testing
TESTING_ENABLED=false
TEST_DATABASE=sa_ris_test_db
