<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üë®‚Äç‚öïÔ∏è Doctor Dashboard - Medical Authorization Portal</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #005580 0%, #0277bd 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 85, 128, 0.2);
        }

        header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .doctor-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 20px;
            border-radius: 8px;
        }

        .logout-btn {
            background: #FFB81C;
            color: #005580;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 184, 28, 0.3);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #005580;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        }

        .stat-card h3 {
            color: #64748b;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .stat-card .number {
            font-size: 32px;
            font-weight: 700;
            color: #005580;
            margin-bottom: 5px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .section h2 {
            color: #005580;
            font-size: 20px;
            margin-bottom: 20px;
            border-bottom: 2px solid #FFB81C;
            padding-bottom: 15px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .table thead {
            background: #f8fafc;
            border-bottom: 2px solid #e0e0e0;
        }

        .table th {
            padding: 15px;
            text-align: left;
            color: #005580;
            font-weight: 600;
            font-size: 13px;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 14px;
        }

        .table tr:hover {
            background: #f3f7ff;
        }

        .badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge.pending {
            background: #fef3c7;
            color: #92400e;
        }

        .badge.approved {
            background: #d1fae5;
            color: #065f46;
        }

        .badge.review {
            background: #dbeafe;
            color: #0c4a6e;
        }

        .action-btn {
            background: #005580;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: 5px;
        }

        .action-btn:hover {
            background: #003a4d;
            transform: translateY(-2px);
        }

        .action-btn.approve {
            background: #16a34a;
        }

        .action-btn.approve:hover {
            background: #15803d;
        }

        .action-btn.deny {
            background: #dc2626;
        }

        .action-btn.deny:hover {
            background: #b91c1c;
        }

        .patient-card {
            background: #f8fafc;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .patient-card:hover {
            border-color: #005580;
            box-shadow: 0 4px 12px rgba(0, 85, 128, 0.1);
        }

        .patient-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .patient-name {
            font-weight: 700;
            color: #005580;
            font-size: 15px;
        }

        .patient-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            font-size: 13px;
            color: #64748b;
            margin-bottom: 15px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
        }

        .detail-label {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 3px;
        }

        .btn-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: #e0e0e0;
            color: #1e293b;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background: #005580;
            color: white;
        }

        .tab-btn:hover {
            background: #005580;
            color: white;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .patient-details {
                grid-template-columns: 1fr;
            }

            .header-controls {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div>
                <h1>üë®‚Äç‚öïÔ∏è Doctor Dashboard</h1>
                <p>Manage pre-authorization requests and patient consultations</p>
            </div>
            <div class="header-controls">
                <div class="doctor-info">
                    <small>Dr. {{ user.username }}</small>
                    <div style="font-weight: 700; font-size: 15px;">Medical License: ML-2025-{{ user.id[:6].upper() }}</div>
                </div>
                <div class="doctor-info">
                    <small>Specialization: Diagnostic Imaging</small>
                    <div style="font-weight: 700; font-size: 15px;">Hospital: Central Medical Center</div>
                </div>
                <form method="POST" action="{{ url_for('logout') }}" style="margin: 0;">
                    <button type="submit" class="logout-btn">üö™ Logout</button>
                </form>
            </div>
        </header>

        <!-- Stats Cards -->
        <div class="grid">
            <div class="stat-card">
                <h3>Pending Reviews</h3>
                <div class="number">8</div>
                <div style="font-size: 13px; color: #94a3b8;">Awaiting your decision</div>
            </div>
            <div class="stat-card">
                <h3>Today's Approvals</h3>
                <div class="number">12</div>
                <div style="font-size: 13px; color: #94a3b8;">Successfully approved</div>
            </div>
            <div class="stat-card">
                <h3>Active Patients</h3>
                <div class="number">45</div>
                <div style="font-size: 13px; color: #94a3b8;">Under your care</div>
            </div>
            <div class="stat-card">
                <h3>Consultation Hours</h3>
                <div class="number">6.5</div>
                <div style="font-size: 13px; color: #94a3b8;">This week</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="section">
            <h2>üìã Pre-Authorization Requests</h2>
            
            <div class="tab-buttons">
                <button class="tab-btn active">‚è≥ Pending (8)</button>
                <button class="tab-btn">‚úì Approved (24)</button>
                <button class="tab-btn">‚úó Denied (3)</button>
            </div>

            <!-- Pending Authorization Card 1 -->
            <div class="patient-card">
                <div class="patient-header">
                    <div>
                        <div class="patient-name">John Smith</div>
                        <span class="badge review">Under Review</span>
                    </div>
                    <div style="font-size: 12px; color: #94a3b8;">PA-20251026-001</div>
                </div>
                <div class="patient-details">
                    <div class="detail-item">
                        <span class="detail-label">ü©∫ Procedure:</span>
                        <span>CT Head with Contrast</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üí∞ Estimated Cost:</span>
                        <span>R2,450</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìÖ Requested:</span>
                        <span>26 Oct 2025, 14:30</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">‚öïÔ∏è Indication:</span>
                        <span>Suspected cerebral infarction</span>
                    </div>
                </div>
                <div class="btn-group">
                    <button class="action-btn approve">‚úì Approve</button>
                    <button class="action-btn deny">‚úó Deny</button>
                    <button class="action-btn">üëÅÔ∏è View Details</button>
                    <button class="action-btn">üí¨ Add Notes</button>
                </div>
            </div>

            <!-- Pending Authorization Card 2 -->
            <div class="patient-card">
                <div class="patient-header">
                    <div>
                        <div class="patient-name">Maria Garcia</div>
                        <span class="badge review">Under Review</span>
                    </div>
                    <div style="font-size: 12px; color: #94a3b8;">PA-20251026-002</div>
                </div>
                <div class="patient-details">
                    <div class="detail-item">
                        <span class="detail-label">ü©∫ Procedure:</span>
                        <span>MRI Brain with Contrast</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üí∞ Estimated Cost:</span>
                        <span>R3,500</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìÖ Requested:</span>
                        <span>26 Oct 2025, 13:15</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">‚öïÔ∏è Indication:</span>
                        <span>Recurrent headaches - rule out pathology</span>
                    </div>
                </div>
                <div class="btn-group">
                    <button class="action-btn approve">‚úì Approve</button>
                    <button class="action-btn deny">‚úó Deny</button>
                    <button class="action-btn">üëÅÔ∏è View Details</button>
                    <button class="action-btn">üí¨ Add Notes</button>
                </div>
            </div>

            <!-- Pending Authorization Card 3 -->
            <div class="patient-card">
                <div class="patient-header">
                    <div>
                        <div class="patient-name">Robert Johnson</div>
                        <span class="badge pending">Recently Submitted</span>
                    </div>
                    <div style="font-size: 12px; color: #94a3b8;">PA-20251026-003</div>
                </div>
                <div class="patient-details">
                    <div class="detail-item">
                        <span class="detail-label">ü©∫ Procedure:</span>
                        <span>Chest X-Ray (2 views)</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üí∞ Estimated Cost:</span>
                        <span>R450</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìÖ Requested:</span>
                        <span>26 Oct 2025, 09:45</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">‚öïÔ∏è Indication:</span>
                        <span>Respiratory symptoms - pneumonia screening</span>
                    </div>
                </div>
                <div class="btn-group">
                    <button class="action-btn approve">‚úì Approve</button>
                    <button class="action-btn deny">‚úó Deny</button>
                    <button class="action-btn">üëÅÔ∏è View Details</button>
                    <button class="action-btn">üí¨ Add Notes</button>
                </div>
            </div>
        </div>

        <!-- Patient Management Section -->
        <div class="section">
            <h2>üë• My Patients</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th>Patient Name</th>
                        <th>Patient ID</th>
                        <th>Last Visit</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>John Smith</td>
                        <td>PAT-2025-001</td>
                        <td>26 Oct 2025</td>
                        <td><span class="badge approved">Active</span></td>
                        <td>
                            <button class="action-btn">üìã View Chart</button>
                            <button class="action-btn">üí¨ Message</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Maria Garcia</td>
                        <td>PAT-2025-002</td>
                        <td>25 Oct 2025</td>
                        <td><span class="badge approved">Active</span></td>
                        <td>
                            <button class="action-btn">üìã View Chart</button>
                            <button class="action-btn">üí¨ Message</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Robert Johnson</td>
                        <td>PAT-2025-003</td>
                        <td>24 Oct 2025</td>
                        <td><span class="badge approved">Active</span></td>
                        <td>
                            <button class="action-btn">üìã View Chart</button>
                            <button class="action-btn">üí¨ Message</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Quick Actions -->
        <div class="section">
            <h2>‚ö° Quick Actions</h2>
            <div class="grid">
                <button class="action-btn" style="padding: 15px; font-size: 14px; width: 100%; background: #005580; color: white; border-radius: 8px;">‚ûï Request Consultation</button>
                <button class="action-btn" style="padding: 15px; font-size: 14px; width: 100%; background: #005580; color: white; border-radius: 8px;">üìä Generate Report</button>
                <button class="action-btn" style="padding: 15px; font-size: 14px; width: 100%; background: #005580; color: white; border-radius: 8px;">‚öôÔ∏è Manage Settings</button>
                <button class="action-btn" style="padding: 15px; font-size: 14px; width: 100%; background: #005580; color: white; border-radius: 8px;">üìû Support</button>
            </div>
        </div>
    </div>
</body>
</html>
